Score: 58/100
============================================================

## Discrepancy report (ground-truth Fig. 1 vs generated)

### 1) Series mapping to axes is swapped (major)
- **Ground truth:**  
  - **Solid line** = *Coefficient for Musical Tolerance* (left y-axis, negative values).  
  - **Dash-dot line** = *Mean Education of Genre Audience* (right y-axis, 12–15).
- **Generated:**  
  - **Dash-dot line** is plotted against the **left** axis (negative range), behaving like coefficients.  
  - **Solid line** is plotted against the **right** axis (12–15), behaving like education.
- **Impact:** The two series are effectively reversed (wrong variable attached to each axis / wrong line style assignment).

### 2) Education trend is wrong (data/order issue)
- **Ground truth (education, dash-dot):** generally **increases** from left to right, ending highest at **Gospel** (~14.8–15).
- **Generated (education, currently solid):** increases smoothly/monotonically-ish, but since series are swapped, the “education” shape is not on the correct linestyle/axis. Also the ground-truth education line is *not perfectly smooth*; it has small plateaus/kinks.

### 3) Coefficient trend is wrong (data/order issue)
- **Ground truth (coefficient, solid):** jagged, with a **sharp drop near Bluegrass** and ends around **~ -0.42** at Gospel.
- **Generated (coefficient, currently dash-dot):** fluctuates but does **not** show the same pronounced dip at Bluegrass and ends closer to **~ -0.43 to -0.44** but with a different path.

### 4) Category set / labels differ (tick text mismatch)
- **Ground truth x labels include:**  
  `Latin/Salsa, Jazz, Blues/R&B, Show Tunes, Oldies, Classical, Reggae, Swing, New Age/Space, Opera, Bluegrass, Folk, Easy Listening, Pop/Rock, Rap, Heavy Metal, Country, Gospel`
- **Generated x labels include (differences):**
  - Uses **“Swing/Big Band”** (ground truth: **“Swing”**)
  - Uses **“Pop/Contemporary Rock”** (ground truth: **“Pop/Rock”**)
  - Uses **“Country/Western”** (ground truth: **“Country”**)
- These are **EXACT text discrepancies** and likely correspond to different grouping/mapping rules.

### 5) Category order differs (major)
- **Ground truth order (key segment):** `... Classical, Reggae, Swing, New Age/Space, Opera, Bluegrass, Folk, Easy Listening, Pop/Rock, Rap, Heavy Metal, Country, Gospel`
- **Generated order (key segment):** `... Classical, Swing/Big Band, New Age/Space, Opera, Bluegrass, Folk, Reggae, Easy Listening, Pop/Contemporary Rock, Rap, Heavy Metal, Country/Western, Gospel`
- Notably **Reggae is earlier in ground truth** (right after Classical) but **later in generated** (after Folk). This will change both lines’ shapes even if values are correct.

### 6) Annotation placement differs (minor but visible)
- **Ground truth:** “Mean Education of Genre Audience” text is centered upper-middle with a leader line pointing to the dash-dot line around early categories; “Coefficient for Musical Tolerance” near bottom with leader line to solid line early-left. “Sample Mean Education” arrow points **up** to dotted line around center-left (near Reggae/Swing region).
- **Generated:** Text/leader locations differ (e.g., coefficient label spans across bottom; “Sample Mean Education” arrow appears closer to Reggae/Easy Listening region). Styling similar but not positioned to match.

### 7) Dotted reference line level likely mismatched (potential)
- Both show a dotted horizontal line at ~13 on the right axis (mapped visually to about **-0.36** on left axis). In generated it appears aligned, but because series are swapped it’s harder to verify; ensure the dotted line is drawn in **right-axis units at y=13.0**.

### 8) Styling mismatches (minor)
- Ground truth looks like: solid = medium-thick; dash-dot = medium; dotted ref line thin. Generated has similar, but line weights and dash pattern don’t exactly match the scanned original.

---

## Step-by-step fixes (data processing + matplotlib)

### A) Fix category names and enforce the **exact ground-truth order**
- Create a canonical ordered list and reindex both series to it:
  - `order = ["Latin/Salsa","Jazz","Blues/R&B","Show Tunes","Oldies","Classical","Reggae","Swing","New Age/Space","Opera","Bluegrass","Folk","Easy Listening","Pop/Rock","Rap","Heavy Metal","Country","Gospel"]`
- Add a rename map to convert your dataset’s labels to ground-truth labels **before** ordering:
  - `"Swing/Big Band" -> "Swing"`
  - `"Pop/Contemporary Rock" -> "Pop/Rock"`
  - `"Country/Western" -> "Country"`
- Then:
  - `df["genre"] = df["genre"].replace(rename_map)`
  - Aggregate (if needed) and `df = df.set_index("genre").loc[order].reset_index()`

### B) Ensure the correct aggregation (no unintended smoothing)
- If you currently interpolate/rolling-average, **remove it**. Ground truth lines are jagged (coefficients especially).
- If you’re computing education means:
  - Use a simple mean per genre: `edu_mean = respondents.groupby("genre")["education_years"].mean()`
- If you’re computing coefficients:
  - Make sure they’re the per-genre regression coefficients from the same model as the paper/ground truth, not re-fit with different controls or standardized inputs.
  - Do **not** sort by coefficient or education; sort strictly by `order` above.

### C) Swap which series is plotted on which axis + match linestyles
- Left axis (**coefficients**, solid):
  - `ax.plot(x, coef, color="black", linestyle="-", linewidth=2.0)`
- Right axis (**mean education**, dash-dot):
  - `ax2 = ax.twinx()`
  - `ax2.plot(x, edu, color="black", linestyle="-.", linewidth=2.0)`

### D) Set axis ranges and ticks to match ground truth exactly
- Left y-axis:
  - `ax.set_ylim(-0.5, -0.1)`
  - `ax.set_yticks([-0.5, -0.4, -0.3, -0.2, -0.1])`
- Right y-axis:
  - `ax2.set_ylim(12, 15)`
  - `ax2.set_yticks([12, 13, 14, 15])`

### E) Draw the dotted “Sample Mean Education” reference line in **right-axis units**
- Use the right axis to place it at exactly 13:
  - `ax2.axhline(13.0, color="black", linestyle=":", linewidth=1.2)`
- (Avoid drawing it on `ax` unless you convert 13 to the left-axis coordinate system.)

### F) Match x tick labels/rotation and spacing
- Use numeric positions with the ordered labels:
  - `x = np.arange(len(order))`
  - `ax.set_xticks(x)`
  - `ax.set_xticklabels(order, rotation=50, ha="right")` (adjust rotation to match; ground truth is steeply angled)
- Keep only bottom ticks; no top ticks:
  - `ax.tick_params(axis="x", bottom=True, top=False, length=10, width=2)`

### G) Annotations: reposition to mirror ground truth
- Use axis-specific annotation targets:
  - “Mean Education of Genre Audience” should point to the **dash-dot line on ax2** around early categories (e.g., near Blues/R&B–Show Tunes region).
  - “Coefficient for Musical Tolerance” should point to the **solid line on ax** around early-left.
  - “Sample Mean Education” arrow points **up** to the dotted line around mid-plot.
- Implement with explicit data coordinates (not relative), e.g.:
  - `ax2.annotate("Mean Education ...", xy=(2, edu[2]), xytext=(3.5, 14.3), arrowprops=...)`
  - `ax.annotate("Coefficient ...", xy=(2, coef[2]), xytext=(3, -0.47), arrowprops=...)`
  - `ax2.annotate("Sample Mean Education", xy=(6, 13.0), xytext=(5.2, 12.7), arrowprops=...)`

### H) Visual style (line widths/spines)
- Use heavier spines like the scanned original:
  - `for s in ax.spines.values(): s.set_linewidth(2)`
  - `for s in ax2.spines.values(): s.set_linewidth(2)`
- Ensure both series are black; no markers:
  - Don’t pass `marker=...`

If you share the code snippet that generates the current plot (and how you compute `coef` and `edu`), I can point to the exact lines to change (e.g., where the sort/order or twinx assignment is going wrong).