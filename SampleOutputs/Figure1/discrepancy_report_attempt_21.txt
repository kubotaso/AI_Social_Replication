Score: 62/100
============================================================

## Discrepancy report (ground-truth top vs generated bottom)

### 1) Series swapped between axes (major data/meaning mismatch)
- **Ground-truth**:  
  - **Solid line** = *Coefficient for Musical Tolerance* (left y-axis; values ~ -0.2 to -0.45).  
  - **Dash-dot line** = *Mean Education of Genre Audience* (right y-axis; values ~ 12.5 to 14.8; steadily rising overall).
- **Generated**:  
  - **Solid line** is the *education* series (monotone upward to ~15).  
  - **Dash-dot line** is the *coefficient* series (oscillating around -0.3 to -0.43).
- **Impact**: Lines are plotted on the wrong axis and with the wrong style mapping.

### 2) X-axis category order differs (and causes different line shapes)
- **Ground-truth order** (left→right):  
  `Latin/Salsa, Jazz, Blues/R&B, Show Tunes, Oldies, Classical, Reggae, Swing, New Age/Space, Opera, Bluegrass, Folk, Easy Listening, Pop/Rock, Rap, Heavy Metal, Country, Gospel`
- **Generated order**:  
  `Latin/Salsa, Jazz, Blues/R&B, Show Tunes, Oldies, Classical, Swing, New Age/Space, Opera, Bluegrass, Folk, Reggae, Easy Listening, Pop/Rock, Rap, Heavy Metal, Country, Gospel`
- **Exact discrepancy**: **Reggae is placed too early in ground-truth (between Classical and Swing)** but appears later in generated (**between Folk and Easy Listening**).  
- **Impact**: Both series’ trajectories differ around that region, and the annotation positioning (if based on indices) will drift.

### 3) Line styles do not match the intended mapping
- **Ground-truth**:
  - Coefficient: **solid**
  - Education: **dash-dot**
  - Sample mean education: **thin dotted horizontal** line
- **Generated**: dash-dot is used for the “other” series (swapped), so visual encoding is incorrect even if values were right.

### 4) “Sample Mean Education” horizontal line is on the wrong axis/value
- **Ground-truth**: dotted line corresponds to **education sample mean on the right axis** at about **13**.
- **Generated**: dotted line is drawn at about **-0.36** on the **left axis** (i.e., it’s using coefficient scale).
- **Impact**: The reference line is on the wrong scale and wrong location.

### 5) Annotation placement differs (because series + axes are wrong)
- **Ground-truth**:
  - “Mean Education of Genre Audience” label points to **dash-dot** line.
  - “Coefficient for Musical Tolerance” label points to **solid** line.
  - “Sample Mean Education” arrow points **up to dotted line at ~13 (right axis)** near mid-right.
- **Generated**: callouts point to the wrong line and the “Sample Mean Education” arrow targets the wrong y value/axis.

### 6) Title differs (present in generated, absent in ground-truth figure body)
- **Ground-truth**: no top title rendered inside the plotting area (only internal labels).  
- **Generated**: adds “Figure 1. …” title above plot.

### 7) Minor formatting differences
- **Tick label formatting**: Ground-truth left y-ticks show **“-.1, -.2, …”** (no leading zero). Generated appears similar but may not exactly match formatting depending on your formatter.
- **Spine/tick styling**: Ground-truth has heavier axes/ticks and a slightly different margin/spacing; generated is close but not identical.

---

## Fixes (data processing + matplotlib) to match ground-truth exactly

### A) Enforce the exact x-category order (fixes #2 and stabilizes annotations)
- **Create a fixed ordered list** and reindex both series to it:
  - Use:
    ```python
    order = ["Latin/Salsa","Jazz","Blues/R&B","Show Tunes","Oldies","Classical",
             "Reggae","Swing","New Age/Space","Opera","Bluegrass","Folk",
             "Easy Listening","Pop/Rock","Rap","Heavy Metal","Country","Gospel"]
    df = df.set_index("genre").reindex(order).reset_index()
    x = np.arange(len(order))
    ```
- **Do not sort by value** (education/coefficient) and do not use alphabetical sorting.

### B) Plot the correct series on the correct axis and with the correct linestyles (fixes #1, #3)
- **Left axis (coefficients)** must be **solid**:
  ```python
  ax.plot(x, df["coef"], color="black", lw=2.5, ls="-")
  ```
- **Right axis (education mean)** must be **dash-dot**:
  ```python
  ax2 = ax.twinx()
  ax2.plot(x, df["edu_mean"], color="black", lw=2.5, ls="-.")
  ```
- If your current code plots both on `ax` or swaps them, reverse that mapping.

### C) Draw “Sample Mean Education” as a horizontal line on the RIGHT axis (fixes #4)
- Compute the sample mean from the education variable (not coefficients):
  ```python
  edu_bar = df["edu_mean"].mean()  # or use a provided constant if paper uses fixed value
  ax2.axhline(edu_bar, color="black", lw=1.2, ls=":")
  ```
- Remove any `ax.axhline(...)` at coefficient-scale values.

### D) Force axis limits and ticks to match ground-truth (reduces residual scale drift)
- **Left axis**:
  ```python
  ax.set_ylim(-0.5, -0.1)
  ax.set_yticks([-0.5,-0.4,-0.3,-0.2,-0.1])
  ```
- **Right axis**:
  ```python
  ax2.set_ylim(12, 15)
  ax2.set_yticks([12,13,14,15])
  ```
- Keep both axes linear (no log scaling).

### E) Match tick label formatting on the left axis (optional but closer)
- Ground-truth uses “-.1” style. Apply a formatter:
  ```python
  from matplotlib.ticker import FuncFormatter
  ax.yaxis.set_major_formatter(FuncFormatter(lambda v, p: f"{v:.1f}".replace("-0.", "-.")))
  ```

### F) Remove the figure title (fixes #6)
- Do **not** call `ax.set_title(...)` / `plt.title(...)`.
- If you must keep a caption, place it outside the axes (e.g., in surrounding document), not as a Matplotlib title.

### G) Recreate annotations so they point to the correct series/axis (fixes #5)
- Point “Mean Education…” to a point on the **ax2** dash-dot line:
  ```python
  i = order.index("Blues/R&B")  # or whichever anchor you use in the ground-truth
  ax2.annotate("Mean Education of Genre Audience",
               xy=(x[i], df.loc[i,"edu_mean"]),
               xytext=(x[i]-2, df.loc[i,"edu_mean"]+0.8),
               arrowprops=dict(arrowstyle='-', color='black'),
               fontsize=14, fontweight="bold")
  ```
- Point “Coefficient…” to a point on the **ax** solid line:
  ```python
  j = order.index("Jazz")
  ax.annotate("Coefficient for Musical Tolerance",
              xy=(x[j], df.loc[j,"coef"]),
              xytext=(x[j]+2, df.loc[j,"coef"]-0.08),
              arrowprops=dict(arrowstyle='-', color='black'),
              fontsize=14, fontweight="bold")
  ```
- “Sample Mean Education” arrow should target `(some_x, edu_bar)` on **ax2**:
  ```python
  k = order.index("Reggae")  # ground-truth arrow is around mid plot; adjust as needed
  ax2.annotate("Sample Mean Education",
               xy=(x[k], edu_bar),
               xytext=(x[k]-2, edu_bar-0.4),
               arrowprops=dict(arrowstyle='-|>', color='black'),
               fontsize=14, fontweight="bold")
  ```

### H) Ensure no smoothing/aggregation is being applied (prevents hidden shape changes)
- Plot the per-genre values directly in order.
- Remove any rolling mean, interpolation, seaborn smoothing, or grouping that averages across genres (unless the paper explicitly does so).

If you share the code used to generate the bottom figure (or the dataframe column names), I can rewrite the exact `matplotlib` block with your variable names so it matches the ground-truth 1:1.